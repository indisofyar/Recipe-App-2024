import{d as h,T as v,U as y,V as B,r,g as i,i as m,j as a,u as e,k as t,I as V,l as b,E as C,F as S,t as d,q as T,av as L,aV as R,H as w,O as G,Y as N,Z as U,P as E,A as P,B as F,J as H,a3 as K,G as g,s as $,aL as j,$ as q}from"./index-82be729b.js";import{a as c,b as p}from"./axios-0576eea1.js";const O={__name:"GoogleSearch",setup(z){h(()=>({name:"",profilePic:""})),v(),y();const f=B(),I=r([]);function k(){c.get(p+"/api/recipes/recipes/").then(o=>{console.log(o.data),I.value=o.data})}k();const u=r(""),n=r(null),_=()=>{c.get(p+"/api/recipes/search-google/"+u.value).then(o=>{n.value=o.data})};r(!1);const x=async o=>{const s=await q.create({message:"Extracting recipe...",duration:5e3});s.present(),c.post(p+"/api/recipes/extract-recipe/",{url:o.link,imageUrl:o.pagemap.metatags[0]["og:image"]}).then(l=>{s.dismiss(),console.log(l.data),f.push({name:"recipe",params:{id:l.data.id}})})};return(o,s)=>(i(),m(e(F),null,{default:a(()=>[t(e(T),null,{default:a(()=>[t(e(V),null,{default:a(()=>[t(e(b),{slot:"start"},{default:a(()=>[t(e(C),{text:"Back"})]),_:1}),t(e(S),null,{default:a(()=>s[1]||(s[1]=[d("Search Google")])),_:1})]),_:1})]),_:1}),t(e(P),{padding:"",class:"speaker-detail"},{default:a(()=>[t(e(L),{placeholder:"Search",onKeydown:R(_,["enter"]),modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=l=>u.value=l)},null,8,["modelValue"]),t(e(w),null,{default:a(()=>[n.value&&n.value.items?(i(!0),G(U,{key:0},N(n.value.items,l=>(i(),m(e(H),{key:l.id,onClick:A=>x(l)},{default:a(()=>[t(e(K),null,{default:a(()=>[d(g(l.title),1),s[2]||(s[2]=$("br",null,null,-1)),t(e(j),{style:{"font-size":"12px"},color:"primary"},{default:a(()=>[d(g(l.displayLink),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):E("",!0)]),_:1})]),_:1})]),_:1}))}};export{O as default};
