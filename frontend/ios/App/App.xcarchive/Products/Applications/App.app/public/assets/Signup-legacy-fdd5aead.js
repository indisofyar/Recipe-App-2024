!function(){function e(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,u=function(){};return{s:u,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw l}}}}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./index-legacy-595d99ac.js","./appicon-legacy-0141a9eb.js","./axios-legacy-a1f7cce6.js"],(function(n,t){"use strict";var r,a,u,l,o,i,c,s,f,d,m,p,g,v,h,y,_,b,x,S,k,I,w,A,j,V,C,T,P;return{setters:[function(e){r=e.e,a=e.r,u=e.C,l=e.d,o=e.N,i=e.g,c=e.i,s=e.j,f=e.k,d=e.u,m=e.I,p=e.l,g=e.F,v=e.t,h=e.q,y=e.s,_=e.H,b=e.J,x=e.Q,S=e.x,k=e.R,I=e.M,w=e.A,A=e.B,j=e.P,V=e._},function(e){C=e._},function(e){T=e.a,P=e.b}],execute:function(){var t=document.createElement("style");t.textContent=".signup-logo[data-v-95944279]{min-height:200px;padding:20px 0;text-align:center}.signup-logo img[data-v-95944279]{max-width:150px}\n",document.head.appendChild(t);var q={class:"ion-padding"};n("default",V(r({__name:"Signup",setup:function(n){var t=a(!1),r=localStorage.getItem("accessToken"),V="Bearer "+r,B=localStorage.getItem("refreshToken");T.post(P+"/api/user/token/refresh/",{refresh:B}).then((function(e){localStorage.setItem("accessToken",e.data.access),r=localStorage.getItem("accessToken"),V="Bearer "+r,T.defaults.headers.common.Authorization=V,u.push({name:"meal-planner"})})).catch((function(e){return t.value=!0}));var E=a(""),U=a(""),L=a(!1),M=a(!1),z=a(""),F=l((function(){return!0})),H=l((function(){return!0})),J=function(){L.value=!0,F.value&&H.value&&T.post(P+"/api/user/register/",{email:E.value,password:U.value,name:"filler",tc:!0}).then((function(e){u.push({name:"meal-planner"})})).catch((function(n){var t,r="",a=e(n.response.data.errors.email);try{for(a.s();!(t=a.n()).done;){r+=t.value}}catch(n){a.e(n)}finally{a.f()}z.value=r,M.value=!0}))};return function(e,n){var r=o("router-link");return t.value?(i(),c(d(A),{key:0},{default:s((function(){return[f(d(h),null,{default:s((function(){return[f(d(m),null,{default:s((function(){return[f(d(p),{slot:"start"}),f(d(g),null,{default:s((function(){return n[2]||(n[2]=[v("Signup")])})),_:1})]})),_:1})]})),_:1}),f(d(w),{class:"ion-padding"},{default:s((function(){return[n[5]||(n[5]=y("div",{class:"signup-logo"},[y("img",{src:C,alt:"Ionic Logo"})],-1)),y("form",{onSubmit:k(J,["prevent"])},[f(d(_),null,{default:s((function(){return[f(d(b),null,{default:s((function(){return[f(d(x),{labelPlacement:"stacked",label:"Email",modelValue:E.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return E.value=e}),name:"username",type:"text",required:""},null,8,["modelValue"])]})),_:1}),f(d(b),null,{default:s((function(){return[f(d(x),{labelPlacement:"stacked",label:"Password",modelValue:U.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return U.value=e}),name:"password",type:"password",required:""},null,8,["modelValue"])]})),_:1})]})),_:1}),y("div",q,[f(d(S),{type:"submit",expand:"block"},{default:s((function(){return n[3]||(n[3]=[v("Create account")])})),_:1})])],32),f(d(I),{"is-open":M.value,message:z.value,duration:2e3},null,8,["is-open","message"]),f(d(w),null,{default:s((function(){return[f(r,{to:"/login"},{default:s((function(){return[f(d(S),{fill:"clear"},{default:s((function(){return n[4]||(n[4]=[v("Login")])})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})):j("",!0)}}}),[["__scopeId","data-v-95944279"]]))}}}))}();
