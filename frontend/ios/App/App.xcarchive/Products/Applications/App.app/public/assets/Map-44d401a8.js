import{B as g,q as h,K as b,I as v,A as I,l as y,F as M,_ as w,N as a,g as k,i as E,j as s,k as l,t as C,s as $}from"./index-82be729b.js";const P={name:"Map",components:{IonPage:g,IonHeader:h,IonMenuButton:b,IonToolbar:v,IonContent:I,IonButtons:y,IonTitle:M},data(){return{isDark:!1,map:null}},async mounted(){const r=document.querySelector("ion-app"),t=[];try{await this.loadGoogleMapsAPI("YOUR_API_KEY_HERE")}catch(o){console.error("Error loading Google Maps API:",o)}let n;fetch("/data/locations.json").then(o=>o.json()).then(o=>{const p=o.find(e=>e.id===1),d=o.slice(1);n=new google.maps.Map(this.$refs.mapCanvas,{center:{lat:p.lat,lng:p.lng},zoom:16,styles:this.isDark?t:[]}),d.forEach(e=>{const i=new google.maps.InfoWindow({content:"<h5>".concat(e.name,"</h5>")}),c=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:n,title:e.name});c.addListener("click",()=>{i.open(n,c)})}),google.maps.event.addListenerOnce(n,"idle",()=>{this.$refs.mapCanvas.classList.add("show-map")}),new MutationObserver(e=>{e.forEach(i=>{i.attributeName==="class"&&(this.isDark=r.classList.contains("ion-palette-dark"),n&&n.setOptions({styles:this.isDark?t:[]}))})}).observe(r,{attributes:!0})})},methods:{async loadGoogleMapsAPI(r){if(!(typeof google<"u"&&typeof google.maps<"u"))return new Promise((t,n)=>{window.initMap=()=>{t()};const o=document.createElement("script");o.src="https://maps.googleapis.com/maps/api/js?key=".concat(r,"&v=3.54&callback=initMap"),o.async=!0,o.defer=!0,o.onerror=()=>{n(new Error("Failed to load Google Maps API"))},document.body.appendChild(o)})}}};const x={ref:"mapCanvas",class:"map-canvas"};function A(r,t,n,o,p,d){const _=a("ion-menu-button"),e=a("ion-buttons"),i=a("ion-title"),c=a("ion-toolbar"),u=a("ion-header"),m=a("ion-content"),f=a("ion-page");return k(),E(f,null,{default:s(()=>[l(u,null,{default:s(()=>[l(c,null,{default:s(()=>[l(e,{slot:"start"},{default:s(()=>[l(_)]),_:1}),l(i,null,{default:s(()=>t[0]||(t[0]=[C("Map")])),_:1})]),_:1})]),_:1}),l(m,null,{default:s(()=>[$("div",x,null,512)]),_:1})]),_:1})}const N=w(P,[["render",A],["__scopeId","data-v-45d5b7a5"]]);export{N as default};
